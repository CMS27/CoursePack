

Automatic Differentiation:


\begin{aligned} \frac{\partial f}{\partial x} &= \frac{1}{xy + \max(x,2)} \frac{\partial}{\partial x}(xy + \max(x,2)) \\
         &= \frac{1}{xy + \max(x,2)} \left[\frac{\partial(xy)}{\partial x} + \frac{\partial\max(x,2)}{\partial x} \right]\\
         &= \frac{1}{xy + \max(x,2)} \left[\left(y\frac{\partial(x)}{\partial x} + x\frac{\partial(y)}{\partial x}\right) + \left(\mathbf{1}(2>x)\frac{\partial 2}{\partial x} + \mathbf{1}(2<x)\frac{\partial x}{\partial x} \right)\right] \\
          &= \frac{1}{xy + \max(x,2)} \left[y + \mathbf{1}(2>x)\right]
\end{aligned}


\begin{array}{c}
\color{blue} x = 3 \\
\color{red} \dot{x} = 1 
\end{array}


\begin{array}{c}
\color{blue} c_2 = \max(x,2) = 3 \\
\color{red} \dot{c_2} = \begin{cases}
	0\text{  if }2<x\\ 
	\dot{x}\text{  if }2>x
	\end{cases} = 1
\end{array}

\begin{array}{c}
\color{blue} c_3 = c_1 + c_2 = 9 \\
\color{red} \dot{c_3} = \dot{c_1} + \dot{c_2} =3
\end{array}


\begin{array}{c}
\color{blue} c_4 = \ln c_3 = \ln 9 \\
\color{red} \dot{c_4} = \dot{c_3}/c_3 = \frac{1}{3}
\end{array}


 \underbrace{\lim_{h\to0}\frac{f(\mathbf{x}+h)-f(\mathbf{x})}{h}}_{\te\mathbf{x}t{forward diff}}= \underbrace{\lim_{h\to0}\frac{f(\mathbf{x}+h/2)-f(\mathbf{x}-h/2)}{h}}_{\te\mathbf{x}t{central diff}}=\underbrace{\lim_{h\to0}\frac{f(\mathbf{x})-f(\mathbf{x}-h)}{h}}_{\te\mathbf{x}t{backward diff}}